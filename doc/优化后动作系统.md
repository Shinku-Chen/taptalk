# 优化后的动作系统

## 📊 优化概览

根据实际使用需求，对动作系统进行了全面优化：
- ✅ 添加了常用疑问词（何时、哪里、如何）
- ✅ 去除了重复动作（要/需要、不要/不需要）
- ✅ 优化了动作分类，提高实用性

## 🔧 新增疑问词功能

### 疑问词类型
| 疑问词 | 用途 | 生成句式 | 使用场景 |
|--------|------|---------|---------|
| **何时** | 询问时间 | "何时吃药" | 询问用药时间、检查时间 |
| **哪里** | 询问地点 | "药在哪里" | 询问物品位置、检查地点 |
| **如何** | 询问方法 | "如何吃药" | 询问操作方法、使用方式 |

### 实际应用示例

#### 医疗场景疑问
```
我 → 医 → 体检 → 何时        → "体检何时"
我 → 医 → 护理 → 哪里        → "护理在哪里"
我 → 医 → 检查 → 如何        → "如何检查"
我 → 食 → 药 → 何时          → "药何时"
我 → 食 → 药 → 如何          → "如何药"
```

#### 设备操作疑问
```
我 → 住 → 灯 → 如何          → "如何灯"
我 → 住 → 空调 → 哪里        → "空调在哪里"
我 → 住 → 床 → 如何          → "如何床"
```

#### 日常生活疑问
```
我 → 衣 → 衣服 → 何时        → "何时衣服"
我 → 食 → 饭 → 哪里          → "饭在哪里"
我 → 行 → 轮椅 → 如何        → "如何轮椅"
```

## ❌ 移除的重复动作

### 之前的重复问题
```
医疗动作: [需要, 不需要, 要, 不要, ...]  ← 要/需要重复
通用动作: [需要, 不需要, 要, 不要, ...]  ← 不要/不需要重复
食物动作: [要, 不要, ...]               ← 与通用重复
```

### 优化后的动作
```
医疗动作: [需要, 不需要, 何时, 哪里, 如何, 好了, 疼]
通用动作: [要, 不要, 何时, 哪里, 如何, 好了]
食物动作: [吃, 喝, 要, 不要, 何时, 哪里]
```

## 🎯 动作分类优化

### 1. 核心动作精简
```javascript
// 每个类别保留最核心的动作
common: ['要', '不要', '何时', '哪里', '如何', '好了']
medical: ['需要', '不需要', '何时', '哪里', '如何', '好了', '疼']
clothing: ['穿', '脱', '洗', '换', '整理', '收起']
```

### 2. 专属动作保留
```javascript
// 设备专属动作不变
lighting: ['开', '关', '调亮', '调暗', '调亮度']
air_conditioner: ['开', '关', '升温', '降温', '调温度', '换模式']
bed: ['调高', '调低', '调床头', '调床尾', '躺下', '起来']
```

### 3. 疑问词智能分配
```javascript
// 根据上下文选择合适的疑问词
医疗类: ['何时', '哪里', '如何']  // 全部疑问词
设备类: ['如何', '哪里']        // 操作相关疑问
食物类: ['何时', '哪里']        // 时间地点疑问
```

## 📱 用户体验提升

### 1. 更实用的询问功能
```
患者常见疑问:
✅ 体检何时           → 询问检查时间
✅ 药在哪里           → 询问药品位置  
✅ 如何吃药           → 询问用药方法
✅ 如何开灯           → 询问操作方法
```

### 2. 减少选择困扰
```
优化前: 医疗动作有7个选项 [需要, 不需要, 要, 不要, 好了, 疼, 难受]
优化后: 医疗动作有7个选项 [需要, 不需要, 何时, 哪里, 如何, 好了, 疼]

去除重复: 要/需要 → 只保留"需要"（医疗场景更合适）
增加实用: 添加何时/哪里/如何（实际询问需求）
```

### 3. 更自然的表达
```
疑问句式优化:
✅ "体检何时" (简洁直接)
✅ "药在哪里" (自然表达)
✅ "如何吃药" (清晰询问)
```

## 🔧 技术实现细节

### 1. 句式模板优化
```javascript
// 疑问词专门的句式模板
medical: {
    question_time: '{item}{action}',      // "体检何时"
    question_place: '{item}在{action}',   // "药在哪里"  
    question_method: '{action}{item}',    // "如何吃药"
}
```

### 2. 动作类型标识
```javascript
// 新增疑问词类型
{ id: 'when', text: '何时', value: '何时', type: 'question_time' },
{ id: 'where', text: '哪里', value: '哪里', type: 'question_place' },
{ id: 'how', text: '如何', value: '如何', type: 'question_method' }
```

### 3. 智能句式选择
```javascript
// 根据动作类型选择合适的句式模板
static getActionType(action) {
    const typeMap = {
        '何时': 'question_time',
        '哪里': 'question_place', 
        '如何': 'question_method',
        '需要': 'positive',
        '不需要': 'negative'
    };
    return typeMap[action] || 'default';
}
```

## 🌟 实际使用场景

### 场景1: 医疗咨询
```
询问检查时间: 我 → 医 → 体检 → 何时 → "体检何时"
询问药品位置: 我 → 食 → 药 → 哪里 → "药在哪里"
询问用药方法: 我 → 食 → 药 → 如何 → "如何药"
```

### 场景2: 设备操作
```
询问操作方法: 我 → 住 → 空调 → 如何 → "如何空调"
询问设备位置: 我 → 住 → 灯 → 哪里 → "灯在哪里"
```

### 场景3: 日常询问
```
询问用餐时间: 我 → 食 → 饭 → 何时 → "何时饭"
询问物品位置: 我 → 衣 → 衣服 → 哪里 → "衣服在哪里"
询问使用方法: 我 → 行 → 轮椅 → 如何 → "如何轮椅"
```

## 📈 优化成果

### 1. **功能增强**
- 新增3类疑问功能
- 覆盖时间、地点、方法询问
- 满足患者常见咨询需求

### 2. **逻辑优化**
- 去除了重复的要/需要选项
- 简化了选择流程
- 提高了操作效率

### 3. **表达丰富**
- 支持陈述句和疑问句
- 适应不同沟通需求
- 增强了APP实用性

## 🎯 使用建议

### 1. **疑问词使用场景**
- **何时**: 适用于时间相关的询问
- **哪里**: 适用于位置相关的询问  
- **如何**: 适用于方法相关的询问

### 2. **动作选择原则**
- 医疗场景优先使用"需要/不需要"
- 日常场景使用"要/不要"
- 询问场景使用疑问词

### 3. **句式自然度**
- 疑问句保持简洁直接
- 陈述句保持完整自然
- 符合中文表达习惯

这个优化后的动作系统既保持了原有的陈述功能，又新增了实用的疑问功能，同时去除了重复和不合理的组合，大大提升了APP的实用性和表达准确性！
