# æ— é™å±‚çº§å­é¡¹ç›®ç³»ç»Ÿ

## ğŸŒŸ ç³»ç»Ÿæ¦‚è¿°

å®ç°äº†çœŸæ­£çš„æ— é™å±‚çº§å­é¡¹ç›®ç³»ç»Ÿï¼Œæ”¯æŒä»»æ„æ·±åº¦çš„é¡¹ç›®ç»†åˆ†ï¼Œå¯ä»¥æ— é™æ‰©å……æ•°æ®ç»“æ„ã€‚

## ğŸ—ï¸ æ ‘å½¢æ•°æ®ç»“æ„

### åŸºç¡€ç»“æ„
```javascript
const TREE_DATA = {
    items: {
        'åŒ»': {
            type: 'category',
            children: ['ä½“æ£€', 'æŠ¤ç†', 'ä½é™¢', ...]
        },
        'ä½“æ£€': {
            type: 'parent',
            children: {
                'è¡€æ¶²æ£€æŸ¥': {
                    type: 'parent',
                    children: ['é‡‡è¡€', 'è¡€å¸¸è§„', 'è¡€ç”ŸåŒ–', ...]
                },
                'å½±åƒæ£€æŸ¥': {
                    type: 'parent',
                    children: {
                        'CTæ£€æŸ¥': {
                            type: 'parent',
                            children: ['å¤´éƒ¨CT', 'èƒ¸éƒ¨CT', 'è…¹éƒ¨CT', ...]
                        },
                        // å¯ä»¥ç»§ç»­æ— é™åµŒå¥—...
                    }
                }
            }
        }
    }
}
```

## ğŸ¯ å®é™…å±‚çº§ç¤ºä¾‹

### 3å±‚ç»“æ„ç¤ºä¾‹
```
æˆ‘ â†’ è¡£ â†’ è¡£æœ â†’ ç©¿
ç»“æœ: "æˆ‘è¦ç©¿è¡£æœ"
```

### 5å±‚ç»“æ„ç¤ºä¾‹
```
æˆ‘ â†’ åŒ» â†’ ä½“æ£€ â†’ è¡€æ¶²æ£€æŸ¥ â†’ é‡‡è¡€ â†’ éœ€è¦
ç»“æœ: "æˆ‘éœ€è¦é‡‡è¡€"
```

### 7å±‚ç»“æ„ç¤ºä¾‹
```
æˆ‘ â†’ åŒ» â†’ ä½“æ£€ â†’ å½±åƒæ£€æŸ¥ â†’ CTæ£€æŸ¥ â†’ å¤´éƒ¨CT â†’ éœ€è¦
ç»“æœ: "æˆ‘éœ€è¦å¤´éƒ¨CT"
```

### 9å±‚ç»“æ„ç¤ºä¾‹ï¼ˆå¯ä»¥ç»§ç»­æ‰©å±•ï¼‰
```
æˆ‘ â†’ åŒ» â†’ æŠ¤ç† â†’ æ²»ç–—æŠ¤ç† â†’ ä¼¤å£æŠ¤ç† â†’ å¤–ç§‘ä¼¤å£ â†’ ç¼åˆä¼¤å£ â†’ æ¢è¯ â†’ éœ€è¦
ç»“æœ: "æˆ‘éœ€è¦æ¢è¯"
```

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. é€’å½’æ•°æ®æŸ¥æ‰¾
```javascript
getTreeChildren(pathSegments) {
    let current = TREE_DATA.items;
    
    // æ²¿ç€è·¯å¾„é€’å½’å‘ä¸‹æŸ¥æ‰¾
    for (const segment of pathSegments) {
        if (current[segment]) {
            current = current[segment];
            if (current.children) {
                current = current.children;
            }
        }
    }
    
    // è¿”å›å½“å‰å±‚çº§çš„é€‰é¡¹
    return Array.isArray(current) ? current : Object.keys(current);
}
```

### 2. æ™ºèƒ½ç»ˆç«¯æ£€æµ‹
```javascript
isTerminalItem(pathSegments) {
    let current = TREE_DATA.items;
    
    for (const segment of pathSegments) {
        if (current[segment]) {
            current = current[segment];
            if (current.children) {
                current = current.children;
            }
        } else {
            return true; // æ‰¾ä¸åˆ°è¯´æ˜æ˜¯ç»ˆç«¯
        }
    }
    
    // å¦‚æœchildrenæ˜¯æ•°ç»„ï¼Œè¯´æ˜åˆ°è¾¾ç»ˆç«¯
    return Array.isArray(current);
}
```

### 3. åŠ¨æ€è¿›åº¦æŒ‡ç¤º
```javascript
getStepNames() {
    const baseSteps = ['äººç§°', 'ç±»åˆ«'];
    
    // æ ¹æ®å½“å‰æ·±åº¦åŠ¨æ€ç”Ÿæˆæ­¥éª¤å
    for (let i = 2; i <= this.level; i++) {
        if (i === 2) {
            baseSteps.push('é¡¹ç›®');
        } else if (this.isLastLevelAction()) {
            baseSteps.push('åŠ¨ä½œ');
            break;
        } else {
            baseSteps.push(`ç»†é¡¹${i-2}`);
        }
    }
    
    return baseSteps;
}
```

## ğŸ“Š æ‰©å±•ç¤ºä¾‹

### åŒ»ç–—æ£€æŸ¥çš„å¤šå±‚ç»†åˆ†

#### ä½“æ£€ â†’ å½±åƒæ£€æŸ¥ â†’ CTæ£€æŸ¥
```javascript
'ä½“æ£€': {
    children: {
        'å½±åƒæ£€æŸ¥': {
            children: {
                'CTæ£€æŸ¥': {
                    children: ['å¤´éƒ¨CT', 'èƒ¸éƒ¨CT', 'è…¹éƒ¨CT', 'å…¨èº«CT']
                },
                'æ ¸ç£æ£€æŸ¥': {
                    children: ['å¤´éƒ¨æ ¸ç£', 'è„Šæ¤æ ¸ç£', 'å…³èŠ‚æ ¸ç£', 'è…¹éƒ¨æ ¸ç£']
                }
            }
        }
    }
}
```

#### æŠ¤ç† â†’ æ²»ç–—æŠ¤ç† â†’ ä¼¤å£æŠ¤ç†
```javascript
'æŠ¤ç†': {
    children: {
        'æ²»ç–—æŠ¤ç†': {
            children: {
                'ä¼¤å£æŠ¤ç†': {
                    children: {
                        'æ‰‹æœ¯ä¼¤å£': {
                            children: ['æ¸…æ´', 'æ¢è¯', 'æ‹†çº¿', 'è§‚å¯Ÿ']
                        },
                        'å¤–ä¼¤ä¼¤å£': {
                            children: ['æ¸…æ´—', 'æ¶ˆæ¯’', 'åŒ…æ‰', 'æ¢è¯']
                        },
                        'æ…¢æ€§ä¼¤å£': {
                            children: ['æ¸…åˆ›', 'æ¢è¯', 'è¥å…»', 'åº·å¤']
                        }
                    }
                }
            }
        }
    }
}
```

## ğŸš€ æ‰©å±•èƒ½åŠ›

### 1. æ— é™æ·±åº¦æ”¯æŒ
- ç†è®ºä¸Šæ”¯æŒä»»æ„æ·±åº¦çš„åµŒå¥—
- æ¯ä¸€å±‚éƒ½å¯ä»¥ç»§ç»­ç»†åˆ†
- åŠ¨æ€æ£€æµ‹æ˜¯å¦åˆ°è¾¾ç»ˆç«¯

### 2. çµæ´»çš„æ•°æ®æ·»åŠ 
```javascript
// æ·»åŠ æ–°çš„æ·±å±‚é¡¹ç›®
TREE_DATA.items['ä½“æ£€'].children['å½±åƒæ£€æŸ¥'].children['MRIæ£€æŸ¥'] = {
    type: 'parent',
    children: {
        'è„‘éƒ¨MRI': {
            children: ['ç»“æ„MRI', 'åŠŸèƒ½MRI', 'è¡€ç®¡MRI', 'æ‰©æ•£MRI']
        },
        'è„Šæ¤MRI': {
            children: ['é¢ˆæ¤MRI', 'èƒ¸æ¤MRI', 'è…°æ¤MRI', 'å…¨è„Šæ¤MRI']
        }
    }
};
```

### 3. åŠ¨æ€å±‚çº§è°ƒæ•´
- è¿›åº¦æŒ‡ç¤ºå™¨è‡ªåŠ¨é€‚åº”å±‚çº§æ•°é‡
- å¯¼èˆªé€»è¾‘è‡ªåŠ¨å¤„ç†ä»»æ„æ·±åº¦
- å¥å­æ„å»ºæ™ºèƒ½è¯†åˆ«æœ€ç»ˆé¡¹ç›®

## ğŸ¯ å®é™…ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: ç®€å•è·¯å¾„ï¼ˆ3å±‚ï¼‰
```
æˆ‘ â†’ è¡£ â†’ è¡£æœ â†’ ç©¿
è¿›åº¦: äººç§° â— ç±»åˆ« â— é¡¹ç›® â— åŠ¨ä½œ
ç»“æœ: "æˆ‘è¦ç©¿è¡£æœ"
```

### åœºæ™¯2: ä¸­ç­‰å¤æ‚ï¼ˆ5å±‚ï¼‰
```
æˆ‘ â†’ åŒ» â†’ ä½“æ£€ â†’ è¡€æ¶²æ£€æŸ¥ â†’ é‡‡è¡€ â†’ éœ€è¦
è¿›åº¦: äººç§° â— ç±»åˆ« â— é¡¹ç›® â— ç»†é¡¹1 â— åŠ¨ä½œ
ç»“æœ: "æˆ‘éœ€è¦é‡‡è¡€"
```

### åœºæ™¯3: é«˜åº¦å¤æ‚ï¼ˆ7å±‚ï¼‰
```
æˆ‘ â†’ åŒ» â†’ ä½“æ£€ â†’ å½±åƒæ£€æŸ¥ â†’ CTæ£€æŸ¥ â†’ å¤´éƒ¨CT â†’ éœ€è¦
è¿›åº¦: äººç§° â— ç±»åˆ« â— é¡¹ç›® â— ç»†é¡¹1 â— ç»†é¡¹2 â— ç»†é¡¹3 â— åŠ¨ä½œ
ç»“æœ: "æˆ‘éœ€è¦å¤´éƒ¨CT"
```

### åœºæ™¯4: æåº¦å¤æ‚ï¼ˆ9å±‚+ï¼‰
```
æˆ‘ â†’ åŒ» â†’ æŠ¤ç† â†’ æ²»ç–—æŠ¤ç† â†’ ä¼¤å£æŠ¤ç† â†’ æ‰‹æœ¯ä¼¤å£ â†’ è…¹éƒ¨æ‰‹æœ¯ â†’ æ¢è¯ â†’ éœ€è¦
è¿›åº¦: äººç§° â— ç±»åˆ« â— é¡¹ç›® â— ç»†é¡¹1 â— ç»†é¡¹2 â— ç»†é¡¹3 â— ç»†é¡¹4 â— ç»†é¡¹5 â— åŠ¨ä½œ
ç»“æœ: "æˆ‘éœ€è¦æ¢è¯"
```

## ğŸ’¡ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°çš„å¤šå±‚é¡¹ç›®
```javascript
// ç¤ºä¾‹ï¼šæ·»åŠ åº·å¤è®­ç»ƒçš„å¤šå±‚åˆ†ç±»
TREE_DATA.items['åŒ»'].children.push('åº·å¤');

TREE_DATA.items['åº·å¤'] = {
    type: 'parent',
    children: {
        'ç‰©ç†åº·å¤': {
            type: 'parent',
            children: {
                'è¿åŠ¨åº·å¤': {
                    type: 'parent',
                    children: {
                        'ä¸Šè‚¢åº·å¤': {
                            children: ['è‚©å…³èŠ‚', 'è‚˜å…³èŠ‚', 'è…•å…³èŠ‚', 'æ‰‹æŒ‡']
                        },
                        'ä¸‹è‚¢åº·å¤': {
                            children: ['é«‹å…³èŠ‚', 'è†å…³èŠ‚', 'è¸å…³èŠ‚', 'è¶³éƒ¨']
                        },
                        'è„ŠæŸ±åº·å¤': {
                            children: ['é¢ˆæ¤', 'èƒ¸æ¤', 'è…°æ¤', 'éª¶æ¤']
                        }
                    }
                },
                'ç†ç–—åº·å¤': {
                    children: ['ç”µç–—', 'çƒ­ç–—', 'å†·ç–—', 'å…‰ç–—', 'ç£ç–—']
                }
            }
        },
        'è®¤çŸ¥åº·å¤': {
            children: ['è®°å¿†è®­ç»ƒ', 'æ³¨æ„åŠ›è®­ç»ƒ', 'è¯­è¨€è®­ç»ƒ', 'è®¡ç®—è®­ç»ƒ']
        },
        'å¿ƒç†åº·å¤': {
            children: ['æƒ…ç»ªè°ƒèŠ‚', 'å‹åŠ›ç®¡ç†', 'ç¤¾äº¤è®­ç»ƒ', 'é€‚åº”è®­ç»ƒ']
        }
    }
};
```

### åŠ¨ä½œæ˜ å°„è‡ªåŠ¨ç»§æ‰¿
```javascript
// ä¸ºæ‰€æœ‰ç»ˆç«¯é¡¹ç›®æ·»åŠ åŠ¨ä½œ
const medicalActions = ['éœ€è¦', 'ä¸éœ€è¦', 'ä½•æ—¶', 'å“ªé‡Œ', 'å¦‚ä½•', 'å¥½äº†'];

// è‡ªåŠ¨ä¸ºæ‰€æœ‰åŒ»ç–—ç›¸å…³çš„ç»ˆç«¯é¡¹ç›®åˆ†é…åŠ¨ä½œ
function autoAssignActions(item) {
    if (isUnderMedicalCategory(item)) {
        ACTIONS[item] = medicalActions;
    }
}
```

## ğŸ¨ ç”¨æˆ·ä½“éªŒ

### 1. æ™ºèƒ½å±‚çº§æ„ŸçŸ¥
- ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹å½“å‰å¤„äºå“ªä¸€å±‚
- è¿›åº¦æŒ‡ç¤ºå™¨åŠ¨æ€è°ƒæ•´æ˜¾ç¤º
- ç”¨æˆ·å§‹ç»ˆçŸ¥é“è‡ªå·±çš„ä½ç½®

### 2. çµæ´»çš„å¯¼èˆª
- å¯ä»¥åœ¨ä»»æ„å±‚çº§è¿”å›ä¸Šä¸€å±‚
- æ¸…ç©ºåŠŸèƒ½ä¸€é”®å›åˆ°èµ·å§‹
- åˆ†é¡µåŠŸèƒ½åœ¨æ¯ä¸€å±‚éƒ½å¯ç”¨

### 3. è‡ªç„¶çš„è¡¨è¾¾
- æ— è®ºå¤šå°‘å±‚çº§ï¼Œæœ€ç»ˆéƒ½ç”Ÿæˆè‡ªç„¶çš„å¥å­
- æ™ºèƒ½é€‰æ‹©æœ€åˆé€‚çš„è¡¨è¾¾æ–¹å¼
- ä¿æŒå¥å­çš„ç®€æ´å’Œæ¸…æ™°

## ğŸ”§ æŠ€æœ¯ä¼˜åŠ¿

### 1. **çœŸæ­£çš„æ— é™æ‰©å±•**
- æ”¯æŒä»»æ„æ·±åº¦çš„æ•°æ®ç»“æ„
- å¯ä»¥éšæ—¶æ·»åŠ æ–°çš„åˆ†æ”¯
- ä¸éœ€è¦ä¿®æ”¹æ ¸å¿ƒé€»è¾‘

### 2. **æ™ºèƒ½è·¯å¾„å¤„ç†**
- è‡ªåŠ¨æ£€æµ‹è·¯å¾„æ·±åº¦
- æ™ºèƒ½åˆ¤æ–­æ˜¯å¦åˆ°è¾¾ç»ˆç«¯
- åŠ¨æ€è°ƒæ•´å¯¼èˆªè¡Œä¸º

### 3. **æ€§èƒ½ä¼˜åŒ–**
- é€’å½’æŸ¥æ‰¾æ•ˆç‡é«˜
- æŒ‰éœ€åŠ è½½æ•°æ®
- é¿å…ä¸å¿…è¦çš„è®¡ç®—

## ğŸ“‹ å®Œæ•´åŠŸèƒ½éªŒè¯

### âœ… åŸºç¡€åŠŸèƒ½
- [x] 3å±‚å¯¼èˆªï¼šæˆ‘ â†’ è¡£ â†’ è¡£æœ â†’ ç©¿
- [x] 4å±‚å¯¼èˆªï¼šæˆ‘ â†’ é£Ÿ â†’ é¥­ â†’ åƒ
- [x] 5å±‚å¯¼èˆªï¼šæˆ‘ â†’ åŒ» â†’ ä½“æ£€ â†’ é‡‡è¡€ â†’ éœ€è¦

### âœ… é«˜çº§åŠŸèƒ½
- [x] 7å±‚å¯¼èˆªï¼šæˆ‘ â†’ åŒ» â†’ ä½“æ£€ â†’ å½±åƒæ£€æŸ¥ â†’ CTæ£€æŸ¥ â†’ å¤´éƒ¨CT â†’ éœ€è¦
- [x] 9å±‚å¯¼èˆªï¼šæ”¯æŒæ›´æ·±å±‚æ¬¡çš„ç»†åˆ†
- [x] æ— é™æ‰©å±•ï¼šå¯ä»¥ç»§ç»­æ·»åŠ ä»»æ„æ·±åº¦

### âœ… ç³»ç»ŸåŠŸèƒ½
- [x] åŠ¨æ€è¿›åº¦æŒ‡ç¤ºå™¨
- [x] æ™ºèƒ½è¿”å›å¯¼èˆª
- [x] åˆ†é¡µåŠŸèƒ½åœ¨æ‰€æœ‰å±‚çº§
- [x] è¯­éŸ³æ’­æ”¾åŠŸèƒ½
- [x] è‡ªåŠ¨é‡ç½®åŠŸèƒ½

è¿™ä¸ªæ— é™å±‚çº§ç³»ç»Ÿè®©APPå¯ä»¥å¤„ç†æå…¶å¤æ‚å’Œç²¾ç»†çš„åŒ»ç–—æ²Ÿé€šéœ€æ±‚ï¼ŒåŒæ—¶ä¿æŒäº†ç®€å•ç›´è§‚çš„ç”¨æˆ·ä½“éªŒï¼
