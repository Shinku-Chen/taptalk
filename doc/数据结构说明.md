# åŒ»ç–—æ²Ÿé€šAPP - æ•°æ®ç»“æ„æ‰©å±•è¯´æ˜

## æ¦‚è¿°
é‡æ–°è®¾è®¡äº†APPçš„æ•°æ®ç»“æ„ï¼Œä½¿å…¶å…·æœ‰é«˜åº¦çš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚æ–°çš„æ¶æ„æ”¯æŒåŠ¨æ€æ·»åŠ å†…å®¹ï¼Œä¾¿äºåæœŸæ‰©å±•åŠŸèƒ½ã€‚

## ğŸ—ï¸ æ–°æ¶æ„è®¾è®¡

### 1. é…ç½®ç³»ç»Ÿ (AppConfig)
```javascript
const AppConfig = {
    settings: {
        autoAdvanceDelay: 500,      // å¯è°ƒèŠ‚çš„å»¶è¿Ÿæ—¶é—´
        buttonsPerPage: 6,          // å¯è°ƒèŠ‚çš„åˆ†é¡µå¤§å°
        speechRate: 0.8,            // å¯è°ƒèŠ‚çš„è¯­éŸ³é€Ÿåº¦
    },
    levels: { ... },                // å±‚çº§å®šä¹‰
    items: { ... },                 // é¡¹ç›®å®šä¹‰
    actions: { ... },               // åŠ¨ä½œå®šä¹‰
    sentenceTemplates: { ... },     // å¥å¼æ¨¡æ¿
    itemActionMapping: { ... }      // æ˜ å°„å…³ç³»
}
```

### 2. æ•°æ®è®¿é—®å±‚ (DataManager)
æä¾›ç»Ÿä¸€çš„æ•°æ®è®¿é—®æ¥å£ï¼š
- `getPersons()` - è·å–äººå‘˜åˆ—è¡¨
- `getCategories()` - è·å–ç±»åˆ«åˆ—è¡¨
- `getItemsByCategory(category)` - è·å–æŒ‡å®šç±»åˆ«çš„é¡¹ç›®
- `getActionsByItem(item)` - è·å–æŒ‡å®šé¡¹ç›®çš„åŠ¨ä½œ
- `addPerson()`, `addCategory()`, `addItem()`, `addAction()` - åŠ¨æ€æ·»åŠ æ•°æ®

### 3. æ™ºèƒ½å¥å­æ„å»ºå™¨ (SentenceBuilder)
- åŸºäºæ¨¡æ¿çš„å¥å­ç”Ÿæˆ
- æ™ºèƒ½åŠ¨ä½œç±»å‹è¯†åˆ«
- æ”¯æŒå¤šç§å¥å¼æ¨¡æ¿

## ğŸ“Š æ•°æ®ç»“æ„è¯¦è§£

### å±‚çº§å®šä¹‰ (levels)
```javascript
levels: {
    person: {
        id: 0,
        name: 'äººç§°',
        description: 'é€‰æ‹©è¯´è¯çš„äºº',
        items: [
            { 
                id: 'me',           // å”¯ä¸€æ ‡è¯†ç¬¦
                text: 'æˆ‘',         // æ˜¾ç¤ºæ–‡å­—
                value: 'æˆ‘',        // å®é™…å€¼
                category: 'self'    // åˆ†ç±»æ ‡ç­¾
            }
        ]
    }
}
```

### é¡¹ç›®å®šä¹‰ (items)
```javascript
items: {
    clothing: {
        category: 'è¡£',
        name: 'è¡£ç‰©ç”¨å“',
        items: [
            { 
                id: 'shirt',
                text: 'è¡£æœ',
                value: 'è¡£æœ',
                tags: ['ä¸Šèº«', 'æ—¥å¸¸']  // æ ‡ç­¾ç”¨äºæœç´¢å’Œåˆ†ç±»
            }
        ]
    }
}
```

### åŠ¨ä½œå®šä¹‰ (actions)
```javascript
actions: {
    clothing: {
        name: 'è¡£ç‰©åŠ¨ä½œ',
        actions: [
            { 
                id: 'wear',
                text: 'ç©¿',
                value: 'ç©¿',
                type: 'put_on'      // åŠ¨ä½œç±»å‹ï¼Œç”¨äºå¥å¼é€‰æ‹©
            }
        ]
    }
}
```

### å¥å¼æ¨¡æ¿ (sentenceTemplates)
```javascript
sentenceTemplates: {
    medical: {
        positive: '{person}éœ€è¦{item}',
        negative: '{person}ä¸éœ€è¦{item}',
        symptom: '{person}{item}{action}',
        default: '{person}{action}{item}'
    }
}
```

## ğŸš€ æ‰©å±•èƒ½åŠ›

### 1. æ·»åŠ æ–°äººå‘˜è§’è‰²
```javascript
DataManager.addPerson({
    id: 'therapist',
    text: 'æ²»ç–—å¸ˆ',
    value: 'æ²»ç–—å¸ˆ',
    category: 'medical'
});
```

### 2. æ·»åŠ æ–°ç±»åˆ«
```javascript
DataManager.addCategory({
    id: 'entertainment',
    text: 'å¨±',
    value: 'å¨±',
    color: '#e8f5e8',
    priority: 7
});
```

### 3. æ‰¹é‡æ·»åŠ é¡¹ç›®
```javascript
const entertainmentItems = [
    { id: 'tv', text: 'ç”µè§†', value: 'ç”µè§†', tags: ['å¨±ä¹', 'è§†è§‰'] },
    { id: 'music', text: 'éŸ³ä¹', value: 'éŸ³ä¹', tags: ['å¨±ä¹', 'å¬è§‰'] }
];

entertainmentItems.forEach(item => {
    DataManager.addItem('entertainment', item);
});
```

### 4. è‡ªå®šä¹‰å¥å¼æ¨¡æ¿
```javascript
AppConfig.sentenceTemplates.entertainment = {
    consume: '{person}è¦{action}{item}',
    interact: '{person}æƒ³{action}{item}',
    default: '{person}è¦{action}{item}'
};
```

## ğŸ”§ æ‰©å±•æ–¹æ³•

### æ–¹æ³•1: ç›´æ¥APIè°ƒç”¨
```javascript
// æ·»åŠ æ–°çš„åŒ»ç–—è®¾å¤‡ç±»åˆ«
DataManager.addCategory({
    id: 'equipment',
    text: 'è®¾å¤‡',
    value: 'è®¾å¤‡',
    color: '#f0f0f0',
    priority: 10
});

// æ·»åŠ è®¾å¤‡é¡¹ç›®
DataManager.addItem('equipment', {
    id: 'ventilator',
    text: 'å‘¼å¸æœº',
    value: 'å‘¼å¸æœº',
    tags: ['åŒ»ç–—è®¾å¤‡', 'ç”Ÿå‘½æ”¯æŒ']
});
```

### æ–¹æ³•2: JSONé…ç½®æ–‡ä»¶
```json
{
    "levels": {
        "equipment": {
            "id": 6,
            "name": "è®¾å¤‡",
            "description": "åŒ»ç–—è®¾å¤‡é€‰æ‹©",
            "items": [...]
        }
    },
    "items": {
        "equipment": {
            "category": "è®¾å¤‡",
            "name": "åŒ»ç–—è®¾å¤‡",
            "items": [...]
        }
    }
}
```

### æ–¹æ³•3: æ‰¹é‡å¯¼å…¥
```javascript
// ä»å¤–éƒ¨æ–‡ä»¶å¯¼å…¥
loadDataFromJSON('./custom-data.json');

// æˆ–æ‰¹é‡å¯¼å…¥
importBulkData();
```

## ğŸ“ˆ æ•°æ®ç®¡ç†å·¥å…·

### æœç´¢åŠŸèƒ½
```javascript
// æœç´¢åŒ…å«å…³é”®è¯çš„é¡¹ç›®
const results = DataTools.searchItems('è¯');

// æŒ‰æ ‡ç­¾ç­›é€‰
const medicalItems = DataTools.filterByTag('åŒ»ç–—');
```

### ç»Ÿè®¡ä¿¡æ¯
```javascript
const stats = DataTools.getStatistics();
console.log(`æ€»è®¡: ${stats.totalItems}ä¸ªé¡¹ç›®, ${stats.totalActions}ä¸ªåŠ¨ä½œ`);
```

### æ•°æ®éªŒè¯
```javascript
const validation = DataTools.validateIntegrity();
if (!validation.isValid) {
    console.log('æ•°æ®é—®é¢˜:', validation.issues);
}
```

## ğŸ’¾ æ•°æ®æŒä¹…åŒ–

### å¯¼å‡ºé…ç½®
```javascript
// å¯¼å‡ºå½“å‰é…ç½®ä¸ºJSONæ–‡ä»¶
exportCurrentData();
```

### ç‰ˆæœ¬ç®¡ç†
- æ¯ä¸ªé…ç½®æ–‡ä»¶åŒ…å«æ—¶é—´æˆ³å’Œç‰ˆæœ¬å·
- æ”¯æŒé…ç½®å›æ»šå’Œç‰ˆæœ¬å¯¹æ¯”
- å¯è¿½è¸ªæ•°æ®å˜æ›´å†å²

## ğŸ¯ æ‰©å±•ä¼˜åŠ¿

### 1. **ç»“æ„åŒ–è®¾è®¡**
- æ¸…æ™°çš„å±‚æ¬¡ç»“æ„
- æ ‡å‡†åŒ–çš„æ•°æ®æ ¼å¼
- ä¸€è‡´çš„å‘½åè§„èŒƒ

### 2. **é«˜åº¦å¯æ‰©å±•**
- åŠ¨æ€æ·»åŠ ä»»ä½•ç±»å‹çš„æ•°æ®
- æ”¯æŒè‡ªå®šä¹‰å¥å¼æ¨¡æ¿
- çµæ´»çš„æ˜ å°„å…³ç³»

### 3. **æ˜“äºç»´æŠ¤**
- æ•°æ®ä¸é€»è¾‘åˆ†ç¦»
- ç»Ÿä¸€çš„æ•°æ®è®¿é—®æ¥å£
- å®Œæ•´çš„éªŒè¯æœºåˆ¶

### 4. **å‘åå…¼å®¹**
- ä¿æŒåŸæœ‰åŠŸèƒ½ä¸å˜
- æ¸è¿›å¼å‡çº§
- å¹³æ»‘çš„æ•°æ®è¿ç§»

## ğŸ“ ä½¿ç”¨å»ºè®®

### 1. **æ·»åŠ æ–°å†…å®¹æ—¶**
- ä½¿ç”¨DataManagerçš„APIæ–¹æ³•
- éµå¾ªç°æœ‰çš„æ•°æ®æ ¼å¼
- æ·»åŠ é€‚å½“çš„æ ‡ç­¾å’Œåˆ†ç±»

### 2. **è‡ªå®šä¹‰å¥å¼æ—¶**
- ä½¿ç”¨æ¨¡æ¿å˜é‡ {person}, {item}, {action}
- è€ƒè™‘ä¸åŒçš„åŠ¨ä½œç±»å‹
- æµ‹è¯•å¥å­çš„è‡ªç„¶åº¦

### 3. **æ‰¹é‡å¯¼å…¥æ—¶**
- å…ˆéªŒè¯æ•°æ®æ ¼å¼
- ä½¿ç”¨äº‹åŠ¡æ€§æ“ä½œ
- å¤‡ä»½åŸæœ‰æ•°æ®

è¿™ä¸ªæ–°çš„æ•°æ®ç»“æ„ä¸ºAPPçš„é•¿æœŸå‘å±•å’ŒåŠŸèƒ½æ‰©å±•å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚
