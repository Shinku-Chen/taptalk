# 动作系统完善说明

## 概述
针对不同类型的项目，设计了专属的动作集合。比如"灯"有开/关动作，"空调"有升温/降温/开/关等动作，让沟通更加精确和自然。

## 🔧 完善的动作分类

### 1. 电器设备动作

#### 灯具专属动作 (lighting)
```javascript
actions: [
    { text: '开', value: '开', type: 'activate' },
    { text: '关', value: '关', type: 'deactivate' },
    { text: '调亮度', value: '调亮度', type: 'adjust' },
    { text: '调亮', value: '调亮', type: 'increase' },
    { text: '调暗', value: '调暗', type: 'decrease' }
]
```

#### 空调专属动作 (air_conditioner)
```javascript
actions: [
    { text: '开', value: '开', type: 'activate' },
    { text: '关', value: '关', type: 'deactivate' },
    { text: '升温', value: '升温', type: 'increase' },
    { text: '降温', value: '降温', type: 'decrease' },
    { text: '调温度', value: '调温度', type: 'adjust' },
    { text: '换模式', value: '换模式', type: 'mode' }
]
```

#### 通用电器动作 (electrical)
```javascript
actions: [
    { text: '开', value: '开', type: 'activate' },
    { text: '关', value: '关', type: 'deactivate' },
    { text: '调节', value: '调节', type: 'adjust' },
    { text: '需要', value: '需要', type: 'positive' },
    { text: '不需要', value: '不需要', type: 'negative' }
]
```

### 2. 家具设备动作

#### 窗户专属动作 (window)
```javascript
actions: [
    { text: '开', value: '开', type: 'open' },
    { text: '关', value: '关', type: 'close' },
    { text: '开窗帘', value: '开窗帘', type: 'open_curtain' },
    { text: '关窗帘', value: '关窗帘', type: 'close_curtain' },
    { text: '通风', value: '通风', type: 'ventilate' }
]
```

#### 家具动作 (furniture)
```javascript
actions: [
    { text: '用', value: '用', type: 'use' },
    { text: '不用', value: '不用', type: 'not_use' },
    { text: '调节', value: '调节', type: 'adjust' },
    { text: '移动', value: '移动', type: 'move' },
    { text: '修理', value: '修理', type: 'repair' },
    { text: '清洁', value: '清洁', type: 'clean' }
]
```

### 3. 行动辅助动作

#### 行动专属动作 (mobility)
```javascript
actions: [
    { text: '需要帮助', value: '需要帮助', type: 'need_help' },
    { text: '可以', value: '可以', type: 'capable' },
    { text: '不行', value: '不行', type: 'incapable' },
    { text: '要', value: '要', type: 'positive' },
    { text: '不要', value: '不要', type: 'negative' },
    { text: '累了', value: '累了', type: 'tired' }
]
```

## 🎯 实际应用场景

### 场景1：环境控制
```
我 → 住 → 灯 → 开           → "我要开灯"
我 → 住 → 灯 → 调暗         → "我要调暗灯"
我 → 住 → 空调 → 升温       → "我要升温"
我 → 住 → 空调 → 关         → "我要关空调"
我 → 住 → 窗户 → 开窗帘     → "我要开窗帘"
```

### 场景2：医疗护理
```
我 → 医 → 体检 → 采血 → 需要    → "我需要采血"
我 → 医 → 护理 → 换药 → 要      → "我要换药"
护士 → 医 → 护理 → 量体温 → 需要 → "护士需要量体温"
```

### 场景3：行动辅助
```
我 → 行 → 走路 → 需要帮助     → "我需要帮助"
我 → 行 → 轮椅 → 要          → "我要轮椅"
我 → 行 → 坐下 → 累了        → "我累了"
```

## 📊 专属动作映射表

| 项目类型 | 项目名称 | 动作类型 | 可用动作 |
|---------|---------|---------|---------|
| **电器** | 灯 | lighting | 开、关、调亮度、调亮、调暗 |
| **电器** | 空调 | air_conditioner | 开、关、升温、降温、调温度、换模式 |
| **电器** | 风扇 | electrical | 开、关、调节、需要、不需要 |
| **家具** | 床 | bed | 调高、调低、调床头、调床尾、躺下、起来 |
| **家具** | 窗户 | window | 开、关、开窗帘、关窗帘、通风 |
| **医疗** | 体检 | medical | 需要、不需要、要、不要、好了、疼 |
| **行动** | 走路 | mobility | 需要帮助、可以、不行、要、不要、累了 |

## 🔧 技术实现

### 1. 智能动作选择
```javascript
static getActionsByItem(item) {
    const actionType = AppConfig.itemActionMapping[item] || 'common';
    return AppConfig.actions[actionType]?.actions || AppConfig.actions.common.actions;
}
```

### 2. 专属句式模板
```javascript
// 空调的特殊句式
air_conditioner: {
    increase: '{person}要{action}',      // "我要升温"
    decrease: '{person}要{action}',      // "我要降温"
    activate: '{person}要{action}{item}', // "我要开空调"
    default: '{person}要{action}{item}'
}
```

### 3. 灵活的映射关系
```javascript
itemActionMapping: {
    '灯': 'lighting',           // 灯 → 灯具专属动作
    '空调': 'air_conditioner',   // 空调 → 空调专属动作
    '窗户': 'window',           // 窗户 → 窗户专属动作
    '床': 'furniture'           // 床 → 家具通用动作
}
```

## 🌟 扩展示例

### 添加电视控制功能
```javascript
// 1. 定义电视专属动作
const tvActions = {
    name: '电视动作',
    actions: [
        { text: '开', value: '开', type: 'activate' },
        { text: '关', value: '关', type: 'deactivate' },
        { text: '调大声音', value: '调大声音', type: 'volume_up' },
        { text: '调小声音', value: '调小声音', type: 'volume_down' },
        { text: '换台', value: '换台', type: 'change_channel' }
    ]
};

// 2. 添加到动作配置
AppConfig.actions.tv_control = tvActions;

// 3. 添加映射关系
AppConfig.itemActionMapping['电视'] = 'tv_control';

// 4. 添加句式模板
AppConfig.sentenceTemplates.tv_control = {
    activate: '{person}要{action}{item}',
    volume_up: '{person}要{action}',
    change_channel: '{person}要{action}',
    default: '{person}要{action}{item}'
};
```

### 添加医疗设备控制
```javascript
// 呼吸机控制
const respiratorActions = {
    actions: [
        { text: '开', value: '开', type: 'activate' },
        { text: '关', value: '关', type: 'deactivate' },
        { text: '调氧气', value: '调氧气', type: 'adjust_oxygen' },
        { text: '调压力', value: '调压力', type: 'adjust_pressure' },
        { text: '需要', value: '需要', type: 'positive' },
        { text: '不需要', value: '不需要', type: 'negative' }
    ]
};
```

## 📱 用户体验提升

### 1. 更精确的表达
- **之前**: "我要灯" (不够具体)
- **现在**: "我要开灯" / "我要调暗灯" (精确明了)

### 2. 自然的语句
- **空调**: "我要升温" / "我要降温" (符合日常表达)
- **窗户**: "我要开窗帘" / "我要通风" (具体操作)

### 3. 智能适配
- 每个项目自动匹配最合适的动作集合
- 句式模板自动选择最自然的表达方式

## 🔨 扩展指南

### 1. 添加新设备类型
```javascript
// 步骤1: 定义专属动作
const newDeviceActions = {
    name: '设备名动作',
    actions: [
        { text: '动作1', value: '动作1', type: 'type1' },
        { text: '动作2', value: '动作2', type: 'type2' }
    ]
};

// 步骤2: 添加到配置
AppConfig.actions.new_device = newDeviceActions;

// 步骤3: 添加映射
AppConfig.itemActionMapping['设备名'] = 'new_device';

// 步骤4: 添加句式模板
AppConfig.sentenceTemplates.new_device = {
    type1: '{person}要{action}{item}',
    type2: '{person}要{action}',
    default: '{person}要{action}{item}'
};
```

### 2. 扩展现有动作
```javascript
// 为现有动作类型添加新动作
DataManager.addAction('lighting', {
    id: 'change_color',
    text: '换颜色',
    value: '换颜色',
    type: 'change_color'
});
```

### 3. 批量设备导入
```javascript
const hospitalDevices = {
    devices: [
        { name: '监护仪', actions: ['开', '关', '调节', '检查'] },
        { name: '输液泵', actions: ['开', '关', '调速度', '停止'] },
        { name: '制氧机', actions: ['开', '关', '调流量', '检查'] }
    ]
};

// 批量添加
hospitalDevices.devices.forEach(device => {
    addDeviceWithActions(device.name, device.actions);
});
```

## 📊 完整功能测试

### 测试场景汇总
```
环境控制：
我要开灯 ✓
我要关空调 ✓  
我要升温 ✓
我要调高床 ✓
我要抬床头 ✓
我要开窗帘 ✓

医疗护理：
我需要采血 ✓
护士要换药 ✓
我要量体温 ✓
医生需要检查 ✓

行动辅助：
我需要帮助 ✓
我要轮椅 ✓
我累了 ✓
我不行 ✓
```

## 🎉 系统优势

### 1. **高度专业化**
- 每种设备都有专属的控制动作
- 符合实际使用习惯
- 覆盖常见操作场景

### 2. **智能匹配**
- 自动为每个项目匹配最合适的动作
- 智能句式生成
- 自然的中文表达

### 3. **无限扩展**
- 可以为任何新设备添加专属动作
- 支持复杂的控制逻辑
- 灵活的句式定制

### 4. **向后兼容**
- 原有功能保持不变
- 渐进式增强
- 平滑升级路径

这个完善的动作系统让医疗沟通APP能够处理更加复杂和精确的表达需求，大大提升了实用性和专业性。
